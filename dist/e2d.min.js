!function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var c=Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=Array(i-1),l=1;i>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(s(n)){for(i=arguments.length,o=Array(i-1),l=1;i>l;l++)o[l-1]=arguments[l];for(c=n.slice(),i=c.length,l=0;i>l;l++)c[l].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,o;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(o=a;o-->0;)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var a=0>s?e.cwd():arguments[s];if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),s="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),s=r(t.split("/")),a=Math.min(i.length,s.length),o=a,l=0;a>l;l++)if(i[l]!==s[l]){o=l;break}for(var c=[],l=o;l<i.length;l++)c.push("..");return c=c.concat(s.slice(o)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=s(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=s(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return s(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:4}],4:[function(e,t){function n(){c=!1,a.length?l=a.concat(l):u=-1,l.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a[u].run();u=-1,t=l.length}a=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function s(){}var a,o=t.exports={},l=[],c=!1,u=-1;o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new i(e,t)),1!==l.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=s,o.addListener=s,o.once=s,o.off=s,o.removeListener=s,o.removeAllListeners=s,o.emit=s,o.binding=function(){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],5:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],6:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length<3||(r.depth=arguments[2]),arguments.length<4||(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,e,r.depth)}function s(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e){return e}function o(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&C(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return w(i)||(i=l(e,i,r)),i}var s=c(e,t);if(s)return s;var a=Object.keys(t),g=o(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),A(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(t);if(0===a.length){if(C(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(I(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return u(t)}var m="",y=!1,x=["{","}"];if(p(t)&&(y=!0,x=["[","]"]),C(t)){var b=t.name?": "+t.name:"";m=" [Function"+b+"]"}if(O(t)&&(m=" "+RegExp.prototype.toString.call(t)),I(t)&&(m=" "+Date.prototype.toUTCString.call(t)),A(t)&&(m=" "+u(t)),0===a.length&&(!y||0==t.length))return x[0]+m+x[1];if(0>r)return O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=y?h(e,t,r,g,a):a.map(function(n){return f(e,t,r,g,n,y)}),e.seen.pop(),d(k,m,x)}function c(e,t){if(b(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var s=[],a=0,o=t.length;o>a;++a)s.push(R(t,a+"")?f(e,t,n,r,a+"",!0):"");return i.forEach(function(i){i.match(/^\d+$/)||s.push(f(e,t,n,r,i,!0))}),s}function f(e,t,n,r,i,s){var a,o,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),R(r,i)||(a="["+i+"]"),o||(e.seen.indexOf(c.value)<0?(o=v(n)?l(e,c.value,null):l(e,c.value,n-1),o.indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),b(a)){if(s&&i.match(/^\d+$/))return o;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")<0||r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function w(e){return"string"==typeof e}function x(e){return"symbol"==typeof e}function b(e){return void 0===e}function O(e){return k(e)&&"[object RegExp]"===P(e)}function k(e){return"object"==typeof e&&null!==e}function I(e){return k(e)&&"[object Date]"===P(e)}function A(e){return k(e)&&("[object Error]"===P(e)||e instanceof Error)}function C(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function P(e){return Object.prototype.toString.call(e)}function L(e){return 10>e?"0"+e.toString(10):e.toString(10)}function j(){var e=new Date,t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var E=/%[sdj%]/g;n.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,s=r.length,a=(e+"").replace(E,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return r[n++]+"";case"%d":return+r[n++];case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),o=r[n];s>n;o=r[++n])a+=v(o)||!k(o)?" "+o:" "+i(o);return a},n.deprecate=function(e,i){function s(){if(!a){if(t.throwDeprecation)throw Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(b(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return s};var W,_={};n.debuglog=function(e){if(b(W)&&(W=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!_[e])if(RegExp("\\b"+e+"\\b","i").test(W)){var r=t.pid;_[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else _[e]=function(){};return _[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=y,n.isString=w,n.isSymbol=x,n.isUndefined=b,n.isRegExp=O,n.isObject=k,n.isDate=I,n.isError=A,n.isFunction=C,n.isPrimitive=S,n.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",j(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:4,inherits:2}],7:[function(e,t){"use strict";t.exports={addColorStop:e("./src/addColorStop"),arc:e("./src/arc"),arcTo:e("./src/arcTo"),beginPath:e("./src/beginPath"),bezierCurveTo:e("./src/bezierCurveTo"),Canvas:e("./src/Canvas"),clearRect:e("./src/clearRect"),clip:e("./src/clip"),clipPath:e("./src/clipPath"),closePath:e("./src/closePath"),createLinearGradient:e("./src/createLinearGradient"),createRadialGradient:e("./src/createRadialGradient"),drawCanvas:e("./src/drawCanvas"),drawImage:e("./src/drawImage"),ellipse:e("./src/ellipse"),fill:e("./src/fill"),fillArc:e("./src/fillArc"),fillCanvas:e("./src/fillCanvas"),fillImage:e("./src/fillImage"),fillImagePattern:e("./src/fillImagePattern"),fillRect:e("./src/fillRect"),fillStyle:e("./src/fillStyle"),globalAlpha:e("./src/globalAlpha"),globalCompositeOperation:e("./src/globalCompositeOperation"),Gradient:e("./src/Gradient"),hitRect:e("./src/hitRect"),hitRegion:e("./src/hitRegion"),Img:e("./src/Img"),Instruction:e("./src/Instruction"),isDataUrl:e("./src/isDataUrl"),isWorker:e("./src/isWorker"),lineStyle:e("./src/lineStyle"),lineTo:e("./src/lineTo"),moveTo:e("./src/moveTo"),path:e("./src/path"),quadraticCurveTo:e("./src/quadraticCurveTo"),rect:e("./src/rect"),Renderer:e("./src/Renderer"),rotate:e("./src/rotate"),scale:e("./src/scale"),shadowStyle:e("./src/shadowStyle"),stroke:e("./src/stroke"),strokeArc:e("./src/strokeArc"),strokeRect:e("./src/strokeRect"),strokeStyle:e("./src/strokeStyle"),text:e("./src/text"),textStyle:e("./src/textStyle"),transform:e("./src/transform"),transformPoints:e("./src/transformPoints"),translate:e("./src/translate")}},{"./src/Canvas":34,"./src/Gradient":35,"./src/Img":36,"./src/Instruction":37,"./src/Renderer":38,"./src/addColorStop":39,"./src/arc":40,"./src/arcTo":41,"./src/beginPath":42,"./src/bezierCurveTo":43,"./src/clearRect":44,"./src/clip":45,"./src/clipPath":46,"./src/closePath":47,"./src/createLinearGradient":48,"./src/createRadialGradient":49,"./src/drawCanvas":50,"./src/drawImage":51,"./src/ellipse":52,"./src/fill":53,"./src/fillArc":54,"./src/fillCanvas":55,"./src/fillImage":56,"./src/fillImagePattern":57,"./src/fillRect":58,"./src/fillStyle":59,"./src/globalAlpha":60,"./src/globalCompositeOperation":61,"./src/hitRect":62,"./src/hitRegion":63,"./src/isDataUrl":65,"./src/isWorker":66,"./src/lineStyle":67,"./src/lineTo":68,"./src/moveTo":69,"./src/path":70,"./src/quadraticCurveTo":71,"./src/rect":72,"./src/rotate":73,"./src/scale":74,"./src/shadowStyle":75,"./src/stroke":76,"./src/strokeArc":77,"./src/strokeRect":78,"./src/strokeStyle":79,"./src/text":80,"./src/textStyle":81,"./src/transform":82,"./src/transformPoints":83,"./src/translate":84}],8:[function(e,t,n){n=t.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n=e+"",s=r[n.toLowerCase()];if(s)return s;var s=i[n.toLowerCase()];return s?s:1===n.length?n.charCodeAt(0):void 0};var r=n.code=n.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=n.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */
for(s=97;123>s;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;58>s;s++)r[s-48]=s;for(s=1;13>s;s++)r["f"+s]=s+111;for(s=0;10>s;s++)r["numpad "+s]=s+96;var a=n.names=n.title={};for(s in r)a[r[s]]=s;for(var o in i)r[o]=i[o]},{}],9:[function(e,t){function n(e,t,n){var s=e?e.length:0;return n&&i(e,t,n)&&(t=!1),s?r(e,t):[]}var r=e("../internal/baseFlatten"),i=e("../internal/isIterateeCall");t.exports=n},{"../internal/baseFlatten":11,"../internal/isIterateeCall":20}],10:[function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}t.exports=n},{}],11:[function(e,t){function n(e,t,l,c){c||(c=[]);for(var u=-1,h=e.length;++u<h;){var f=e[u];o(f)&&a(f)&&(l||s(f)||i(f))?t?n(f,t,l,c):r(c,f):l||(c[c.length]=f)}return c}var r=e("./arrayPush"),i=e("../lang/isArguments"),s=e("../lang/isArray"),a=e("./isArrayLike"),o=e("./isObjectLike");t.exports=n},{"../lang/isArguments":24,"../lang/isArray":25,"./arrayPush":10,"./isArrayLike":18,"./isObjectLike":22}],12:[function(e,t){var n=e("./createBaseFor"),r=n();t.exports=r},{"./createBaseFor":15}],13:[function(e,t){function n(e,t){return r(e,t,i)}var r=e("./baseFor"),i=e("../object/keysIn");t.exports=n},{"../object/keysIn":31,"./baseFor":12}],14:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],15:[function(e,t){function n(e){return function(t,n,i){for(var s=r(t),a=i(t),o=a.length,l=e?o:-1;e?l--:++l<o;){var c=a[l];if(n(s[c],c,s)===!1)break}return t}}var r=e("./toObject");t.exports=n},{"./toObject":23}],16:[function(e,t){var n=e("./baseProperty"),r=n("length");t.exports=r},{"./baseProperty":14}],17:[function(e,t){function n(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e("../lang/isNative");t.exports=n},{"../lang/isNative":28}],18:[function(e,t){function n(e){return null!=e&&i(r(e))}var r=e("./getLength"),i=e("./isLength");t.exports=n},{"./getLength":16,"./isLength":21}],19:[function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,i=9007199254740991;t.exports=n},{}],20:[function(e,t){function n(e,t,n){if(!s(n))return!1;var a=typeof t;if("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}var r=e("./isArrayLike"),i=e("./isIndex"),s=e("../lang/isObject");t.exports=n},{"../lang/isObject":29,"./isArrayLike":18,"./isIndex":19}],21:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;t.exports=n},{}],22:[function(e,t){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],23:[function(e,t){function n(e){return r(e)?e:Object(e)}var r=e("../lang/isObject");t.exports=n},{"../lang/isObject":29}],24:[function(e,t){function n(e){return i(e)&&r(e)&&a.call(e,"callee")&&!o.call(e,"callee")}var r=e("../internal/isArrayLike"),i=e("../internal/isObjectLike"),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable;t.exports=n},{"../internal/isArrayLike":18,"../internal/isObjectLike":22}],25:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isLength"),i=e("../internal/isObjectLike"),s="[object Array]",a=Object.prototype,o=a.toString,l=n(Array,"isArray"),c=l||function(e){return i(e)&&r(e.length)&&o.call(e)==s};t.exports=c},{"../internal/getNative":17,"../internal/isLength":21,"../internal/isObjectLike":22}],26:[function(e,t){function n(e){return!!e&&1===e.nodeType&&r(e)&&!i(e)}var r=e("../internal/isObjectLike"),i=e("./isPlainObject");t.exports=n},{"../internal/isObjectLike":22,"./isPlainObject":30}],27:[function(e,t){function n(e){return r(e)&&a.call(e)==i}var r=e("./isObject"),i="[object Function]",s=Object.prototype,a=s.toString;t.exports=n},{"./isObject":29}],28:[function(e,t){function n(e){return null==e?!1:r(e)?c.test(o.call(e)):i(e)&&s.test(e)}var r=e("./isFunction"),i=e("../internal/isObjectLike"),s=/^\[object .+?Constructor\]$/,a=Object.prototype,o=Function.prototype.toString,l=a.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isObjectLike":22,"./isFunction":27}],29:[function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],30:[function(e,t){function n(e){var t;if(!s(e)||c.call(e)!=a||i(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return r(e,function(e,t){n=t}),void 0===n||l.call(e,n)}var r=e("../internal/baseForIn"),i=e("./isArguments"),s=e("../internal/isObjectLike"),a="[object Object]",o=Object.prototype,l=o.hasOwnProperty,c=o.toString;t.exports=n},{"../internal/baseForIn":13,"../internal/isObjectLike":22,"./isArguments":24}],31:[function(e,t){function n(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(i(e)||r(e))&&t||0;for(var n=e.constructor,l=-1,u="function"==typeof n&&n.prototype===e,h=Array(t),f=t>0;++l<t;)h[l]=l+"";for(var d in e)f&&s(d,t)||"constructor"==d&&(u||!c.call(e,d))||h.push(d);return h}var r=e("../lang/isArguments"),i=e("../lang/isArray"),s=e("../internal/isIndex"),a=e("../internal/isLength"),o=e("../lang/isObject"),l=Object.prototype,c=l.hasOwnProperty;t.exports=n},{"../internal/isIndex":19,"../internal/isLength":21,"../lang/isArguments":24,"../lang/isArray":25,"../lang/isObject":29}],32:[function(e,t){t.exports=function(e,t){for(var n=e[0],r=e[1],i=!1,s=0,a=t.length-1;s<t.length;a=s++){var o=t[s][0],l=t[s][1],c=t[a][0],u=t[a][1],h=l>r!=u>r&&(c-o)*(r-l)/(u-l)+o>n;h&&(i=!i)}return i}},{}],33:[function(e,t){"use strict";var n=(t.exports=function(e,t,i){switch(i&&i.toLowerCase()){case"strassen":return r(e,t);case"naive":default:return n(e,t)}},function(e,t){for(var n=e.length,r=[],i=0;n>i;i++)r.push([]);for(var s=0;n>s;s++)for(var a=0;n>a;a++){r[s][a]=0;for(var o=0;n>o;o++)r[s][a]=r[s][a]+e[s][o]*t[o][a]}return r}),r=function i(e,t){for(var n=e.length,r=[],s=0;n>s;s++)r.push([]);if(1==n)r[0][0]=e[0][0]*t[0][0];else{var a=n/2,o=[],l=[],c=[],u=[],h=[],f=[],d=[],p=[];for(s=0;a>s;s++)o.push([]),l.push([]),c.push([]),u.push([]),h.push([]),f.push([]),d.push([]),p.push([]);var g,v;for(g=0;a>g;g++){for(v=0;a>v;v++)o[g][v]=e[g][v],h[g][v]=t[g][v];for(v=a;n>v;v++)l[g][v-a]=e[g][v],f[g][v-a]=t[g][v]}for(g=a;n>g;g++){for(v=0;a>v;v++)c[g-a][v]=e[g][v],d[g-a][v]=t[g][v];for(v=a;n>v;v++)u[g-a][v-a]=e[g][v],p[g-a][v-a]=t[g][v]}var m=[],y=[],w=[],x=[],b=[],O=[],k=[],I=[],A=[],C=[];for(s=0;a>s;s++)m.push([]),y.push([]),w.push([]),x.push([]),b.push([]),O.push([]),k.push([]),I.push([]),A.push([]),C.push([]);for(g=0;a>g;g++)for(v=0;a>v;v++)m[g][v]=f[g][v]-p[g][v],y[g][v]=o[g][v]+l[g][v],w[g][v]=c[g][v]+u[g][v],x[g][v]=d[g][v]-h[g][v],b[g][v]=o[g][v]+u[g][v],O[g][v]=h[g][v]+p[g][v],k[g][v]=l[g][v]-u[g][v],I[g][v]=d[g][v]+p[g][v],A[g][v]=o[g][v]-c[g][v],C[g][v]=h[g][v]+f[g][v];var S=i(o,m),P=i(y,p),L=i(w,h),j=i(u,x),R=i(b,O),E=i(k,I),W=i(A,C);for(g=0;a>g;g++)for(v=0;a>v;v++)r[g][v]=R[g][v]+j[g][v]-P[g][v]+E[g][v],r[g][v+a]=S[g][v]+P[g][v],r[g+a][v]=L[g][v]+j[g][v],r[g+a][v+a]=R[g][v]+S[g][v]-L[g][v]-W[g][v]}return r}},{}],34:[function(e,t){"use strict";function n(t,i,s){this.id=s||a(),this.width=t,this.height=i;var o=e("./Renderer");r?(postMessage({type:"canvas",value:{id:this.id,width:this.width,height:this.height,children:[]}}),this.renderer=null):this.renderer=new o(t,i,document.createElement("div")),this.fillPattern=null,n.cache[this.id]=this,Object.seal(this)}var r=e("./isWorker"),i=e("./Img"),s=e("lodash/array/flatten"),a=e("./id");n.prototype.render=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);e=s(e),r?postMessage({type:"canvas",value:{id:this.id,width:this.width,height:this.height,children:e}}):(this.renderer.render(e),this.fillPattern=this.renderer.ctx.createPattern(this.renderer.canvas,"no-repeat"))},n.prototype.toImage=function(e){var t;return t=new i(e||a()),r?(postMessage({type:"canvas-image",value:{id:this.id,imageID:e}}),t):(t.src=this.renderer.canvas.toDataURL("image/png"),t)},n.prototype.dispose=function(){if(r)return postMessage({type:"canvas-dispose",value:{id:this.id}});n.cache[this.id]=null;var e=n.cachable.indexOf(this.id);e>-1&&n.cachable.splice(e,1)},n.prototype.cache=function(){if(r)return postMessage({type:"canvas-cache",value:{id:this.id}});var e=n.cachable.indexOf(this.id);return-1===e&&n.cachable.push(this.id),this},n.cleanUp=function(){for(var e,t={},r=0;r<n.cachable.length;r++)e=n.cachable[r],t[e]=n.cache[e];n.cache=t},n.prototype.resize=function(e,t){return this.renderer.resize(e,t)},n.cache={},n.cachable=[],n.create=function(e,t,r){return new n(e,t,r)},Object.seal(n),Object.seal(n.prototype),t.exports=n},{"./Img":36,"./Renderer":38,"./id":64,"./isWorker":66,"lodash/array/flatten":9}],35:[function(e,t){"use strict";function n(e,t){this.id=e,this.grd=t,n.cache[e]=this,Object.seal(this)}var r=e("./isWorker");n.cache={},n.cachable=[],n.prototype.cache=function(){return r?postMessage({type:"gradient-cache",value:{id:this.id}}):n.cachable.push(this.id),this},n.prototype.dispose=function(){if(r)return postMessage({type:"gradient-dispose",value:{id:this.id}});n.cache[this.id]=null;var e=n.cachable.indexOf(this.id);-1!==e&&n.cachable.splice(e,1)},n.cleanUp=function(){for(var e,t={},r=0;r<n.cachable.length;r++)e=n.cachable[r],t[e]=n.cache[e];n.cache=t},Object.seal(n),Object.seal(n.prototype),t.exports=n},{"./isWorker":66}],36:[function(e,t){"use strict";function n(e){s.EventEmitter.call(this),this._src="",this.isDataUrl=!1,this.id=e||o(),this.buffer=new ArrayBuffer,this.onload=function(){},this.texture=null,this.type="image",this.blobOptions={},this.imageElement=null,this.imagePattern=null,this.imagePatternRepeat=null,r&&postMessage({type:"image",value:{id:this.id,src:""}}),Object.seal(this)}var r=(e("path"),e("./isWorker")),i=e("./isDataUrl"),s=e("events"),a=e("util"),o=e("./id");a.inherits(n,s.EventEmitter),n.cache={},n.cachable=[],Object.defineProperty(n.prototype,"src",{set:function(e){if(this.isDataUrl=i(e),r)return n.cache[this.id]=this,void postMessage({type:"image-source",value:{id:this.id,src:e}});var t=new Image;this.imageElement=t,t.src=e,t.onload=this.imageLoad.bind(this)},get:function(){return this._src}}),n.prototype.imageLoad=function(){if(!r){var e=document.createElement("canvas").getContext("2d");this.imagePattern=e.createPattern(this.imageElement,"no-repeat"),this.imagePatternRepeat=e.createPattern(this.imageElement,"repeat")}return n.cache[this.id]=this,this.emit("load",this)},n.prototype.cache=function(){return r?postMessage({type:"image-cache",value:{id:this.id}}):n.cachable.push(this.id),this},n.prototype.dispose=function(){if(r)return postMessage({type:"image-dispose",value:{id:this.id}});n.cache[this.id]=null;var e=n.cachable.indexOf(this.id);-1!==e&&n.cachable.splice(e,1)},n.cleanUp=function(){for(var e,t={},r=0;r<n.cachable.length;r++)e=n.cachable[r],t[e]=n.cache[e];n.cache=t},Object.seal(n),Object.seal(n.prototype),t.exports=n},{"./id":64,"./isDataUrl":65,"./isWorker":66,events:1,path:3,util:6}],37:[function(e,t){"use strict";function n(e,t){this.type=e,this.props=t,Object.seal(this)}Object.seal(n),Object.seal(n.prototype),t.exports=n},{}],38:[function(e,t){"use strict";function n(t,n,r,l){return u.EventEmitter.call(this),s||(s=e("./Canvas")),a||(a=e("./Gradient")),f||(a=e("./Gradient")),this.tree=null,this.isReady=!1,this.mouseState="up",this.mouseData={x:0,y:0,state:this.mouseState,activeRegions:[]},this.lastMouseEvent=null,this.ranMouseEvent=!1,this.mouseRegions=[],this.activeRegions=[],this.styleQueue=[],this.keyData={},o?(this.worker=null,this.canvas=null,this.ctx=null,this.parent=null,addEventListener("message",this.browserCommand.bind(this)),void Object.seal(this)):(l?(this.worker=l instanceof Worker?l:new Worker(l),this.worker.onmessage=this.workerCommand.bind(this)):this.worker=null,r&&i(r)?this.parent=r:(this.parent=document.createElement("div"),this.parent.style.margin="0 auto",this.parent.style.width=t+"px",this.parent.style.height=n+"px",document.body.appendChild(this.parent)),t&&t>0||(t=window.innerWidth),n&&n>0||(n=window.innerHeight),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=n,this.parent.appendChild(this.canvas),this.hookMouseEvents(),this.hookKeyboardEvents(),void Object.seal(this))}var r=e("lodash/array/flatten"),i=e("lodash/lang/isElement"),s=null,a=null,o=e("./isWorker"),l=e("./createLinearGradient"),c=e("./createRadialGradient"),u=e("events"),h=e("util"),f=e("./Img"),d=e("keycode"),p=e("square-matrix-multiply"),g=e("./transformPoints"),v=e("point-in-polygon"),m=2*Math.PI,y=[[1,0,0],[0,1,0],[0,0,1]];h.inherits(n,u.EventEmitter),n.prototype.render=function(){var e,t,n,i,l,c,u,h,d,v=[],w=[],x=[],b=[],O=[],k=[],I=[y],A=[],C=this.ctx,S=[];for(e=0,t=arguments.length;t>e;e++)S.push(arguments[e]);if(S=r(S,!0),o)return this.sendBrowser("render",S);for(e=0,t=S.length;t>e;e++)if(n=S[e])if(i=n.props,l=n.type,"transform"!==l)if("scale"!==l)if("translate"!==l)if("rotate"!==l)if("restore"!==l)if("fillRect"!==l)if("strokeRect"!==l)if("clearRect"!==l)if("rect"===l&&C.rect(i.x,i.y,i.width,i.height),"fillStyle"!==l)if("fillGradient"!=l)if("strokeStyle"!==l)if("strokeGradient"!=l)if("endFillStyle"!==l)if("endStrokeStyle"!==l)if("lineStyle"!==l)if("endLineStyle"!==l)if("textStyle"!==l)if("endTextStyle"!==l)if("shadowStyle"!==l)if("endShadowStyle"!==l)if("text"!==l)if("drawImage"!==l)if("drawImageSize"!==l)if("drawImageSource"!==l){if("fillImagePattern"===l){if(!f.cache.hasOwnProperty(i.img))continue;C.fillStyle=f.cache[i.img].imagePatternRepeat,C.translate(i.dx,i.dy),C.fillRect(0,0,i.dWidth,i.dHeight),C.restore()}if("fillImage"!==l)if("fillImageSize"!==l)if("fillImageSource"!==l)if("fillCanvas"!==l)if("fillCanvasSize"!==l)if("fillCanvasSource"!==l)if("drawCanvas"!==l)if("drawCanvasSize"!==l)if("drawCanvasSource"!==l)"strokeArc"!==l?"strokeArc-counterclockwise"!==l?"fillArc"!==l&&"fillArc-counterclockwise"!==l?"moveTo"!==l?"lineTo"!==l?"bezierCurveTo"!==l?"quadraticCurveTo"!==l?"anticlockwise-arc"!==l?"arc"!==l?"full-arc"!==l?"quick-arc"!==l?"arcTo"!==l?"anticlockwise-ellipse"!==l?"ellipse"!==l?"full-ellipse"!==l?"quick-ellipse"!==l?"globalCompositeOperation"!==l?"endGlobalCompositeOperation"!==l?"fill"!==l?"stroke"!==l?"clipPath"!==l?"beginPath"!==l?"closePath"!==l?"globalAlpha"!==l?"endGlobalAlpha"!==l?"hitRegion"!==l||this.mouseRegions.push({id:i.id,points:g(i.points,I[I.length-1])}):C.globalAlpha=k.pop():(k.push(C.globalAlpha),C.globalAlpha*=i.value):C.closePath():C.beginPath():C.clip():C.stroke():C.fill():C.globalCompositeOperation=A.pop():(A.push(C.globalCompositeOperation),C.globalCompositeOperation=i.value):(this.save(),this.translate(i.x,i.y),this.scale(i.radiusX,i.radiusY),this.arc(0,0,1,0,m),this.restore()):(this.save(),this.translate(i.x,i.y),this.rotate(i.rotation),this.scale(i.radiusX,i.radiusY),this.arc(0,0,1,0,m),this.restore()):(this.save(),this.translate(i.x,i.y),this.rotate(i.rotation),this.scale(i.radiusX,i.radiusY),this.arc(0,0,1,i.startAngle,i.endAngle),this.restore()):(this.save(),this.translate(i.x,i.y),this.rotate(i.rotation),this.scale(i.radiusX,i.radiusY),this.arc(0,0,1,i.startAngle,i.endAngle,!0),this.restore()):C.arcTo(i.x1,i.y1,i.x2,i.y2,i.r):C.arc(0,0,i.r,0,m):C.arc(i.x,i.y,i.r,0,m):C.arc(i.x,i.y,i.r,i.startAngle,i.endAngle):C.arc(i.x,i.y,i.r,i.startAngle,i.endAngle,!0):C.quadraticCurveTo(i.cpx,i.cpy,i.x,i.y):C.bezierCurveTo(i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.x,i.y):C.lineTo(i.x,i.y):C.moveTo(i.x,i.y):(C.beginPath(),C.arc(i.x,i.y,i.r,i.startAngle,i.endAngle),C.closePath(),C.fill()):(C.beginPath(),C.arc(i.x,i.y,i.r,i.startAngle,i.endAngle,!0),C.closePath(),C.stroke()):(C.beginPath(),C.arc(i.x,i.y,i.r,i.startAngle,i.endAngle),C.closePath(),C.stroke());else{if(!s.cache.hasOwnProperty(i.img))continue;C.drawImage(s.cache[i.img].renderer.canvas,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}else{if(!s.cache.hasOwnProperty(i.img))continue;C.drawImage(s.cache[i.img].renderer.canvas,i.dx,i.dy,i.dWidth,i.dHeight)}else{if(!s.cache.hasOwnProperty(i.img))continue;C.drawImage(s.cache[i.img].renderer.canvas,i.dx,i.dy)}else{if(!s.cache.hasOwnProperty(i.img))continue;c=s.cache[i.img],C.save(),C.fillStyle=c.fillPattern,C.translate(i.dx,i.dy),C.scale(c.width/i.sWidth,c.height/i.sHeight),C.translate(-i.sx,-i.sy),C.fillRect(i.sx,i.sy,i.sWidth,i.sHeight),C.restore()}else{if(!s.cache.hasOwnProperty(i.img))continue;c=s.cache[i.img],C.save(),C.fillStyle=c.fillPattern,C.translate(i.dx,i.dy),C.scale(i.dWidth/c.width,i.dHeight/c.height),C.fillRect(0,0,c.width,c.height),C.restore()}else{if(!s.cache.hasOwnProperty(i.img))continue;c=s.cache[i.img],C.save(),C.fillStyle=c.fillPattern,C.translate(i.dx,i.dy),C.fillRect(0,0,c.width,c.height),C.restore()}else{if(!f.cache.hasOwnProperty(i.img))continue;c=f.cache[i.img].imageElement,C.save(),C.fillStyle=f.cache[i.img].imagePattern,C.translate(i.dx,i.dy),C.scale(c.dWidth/i.sWidth,c.dHeight/i.sHeight),C.translate(-i.sx,-i.sy),C.fillRect(i.sx,i.sy,i.sWidth,i.sHeight),C.restore()}else{if(!f.cache.hasOwnProperty(i.img))continue;c=f.cache[i.img].imageElement,C.save(),C.fillStyle=f.cache[i.img].imagePattern,C.translate(i.dx,i.dy),C.scale(i.dWidth/c.width,i.dHeight/c.height),C.fillRect(0,0,c.width,c.height),C.restore()}else{if(!f.cache.hasOwnProperty(i.img))continue;c=f.cache[i.img].imageElement,C.save(),C.fillStyle=f.cache[i.img].imagePattern,C.translate(i.dx,i.dy),C.fillRect(0,0,c.width,c.height),C.restore()}}else{if(!f.cache.hasOwnProperty(i.img))continue;C.drawImage(f.cache[i.img].imageElement||new Image,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}else{if(!f.cache.hasOwnProperty(i.img))continue;C.drawImage(f.cache[i.img].imageElement||new Image,i.dx,i.dy,i.dWidth,i.dHeight)}else{if(!f.cache.hasOwnProperty(i.img))continue;C.drawImage(f.cache[i.img].imageElement||new Image,i.dx,i.dy)}else{if(0!==i.maxWidth){i.fill&&C.fillText(i.text,i.x,i.y,i.maxWidth),i.stroke&&C.strokeText(i.text,i.x,i.y,i.maxWidth);continue}i.fill&&C.fillText(i.text,i.x,i.y),i.stroke&&C.strokeText(i.text,i.x,i.y)}else c=O.pop(),C.shadowBlur=c.shadowBlur,C.shadowColor=c.shadowColor,C.shadowOffsetX=c.shadowOffsetX,C.shadowOffsetY=c.shadowOffsetY;else O.push({shadowBlur:C.shadowBlur,shadowColor:C.shadowColor,shadowOffsetX:C.shadowOffsetX,shadowOffsetY:C.shadowOffsetY}),null!==i.shadowBlur&&(C.shadowBlur=i.shadowBlur),null!==i.shadowColor&&(C.shadowColor=i.shadowColor),null!==i.shadowOffsetX&&(C.shadowOffsetX=i.shadowOffsetX),null!==i.shadowOffsetY&&(C.shadowOffsetY=i.shadowOffsetY);else c=b.pop(),C.font=c.font,C.textAlign=c.textAlign,C.textBaseline=c.textBaseline,C.direction=c.direction;else b.push({font:C.font,textAlign:C.textAlign,textBaseline:C.textBaseline,direction:C.direction}),null!==i.font&&(C.font=i.font),null!==i.textAlign&&(C.textAlign=i.textAlign),null!==i.textBaseline&&(C.textBaseline=i.textBaseline),null!==i.lineJoin&&(C.direction=i.direction);else c=x.pop(),C.lineWidth=c.lineWidth,C.lineCap=c.lineCap,C.lineJoin=c.lineJoin,C.miterLimit=c.miterLimit,C.setLineDash(c.lineDash),C.lineDashOffset=c.lineDashOffset;else x.push({lineWidth:C.lineWidth,lineCap:C.lineCap,lineJoin:C.lineJoin,miterLimit:C.miterLimit,lineDash:C.getLineDash(),lineDashOffset:C.lineDashOffset}),null!==i.lineWidth&&(C.lineWidth=i.lineWidth),null!==i.lineCap&&(C.lineCap=i.lineCap),null!==i.lineJoin&&(C.lineJoin=i.lineJoin),null!==i.miterLimit&&(C.miterLimit=i.miterLimit),i.lineDash.length>0&&C.setLineDash(i.lineDash),null!==i.lineDashOffset&&(C.lineDashOffset=i.lineDashOffset);else C.strokeStyle=w.pop();else C.fillStyle=v.pop();else w.push(C.strokeStyle),a.cache.hasOwnProperty(i.value.id)&&(C.strokeStyle=a.cache[i.value.id].grd);else w.push(C.strokeStyle),C.strokeStyle=i.value;else v.push(C.fillStyle),a.cache.hasOwnProperty(i.value.id)&&(C.fillStyle=a.cache[i.value.id].grd);else v.push(C.fillStyle),C.fillStyle=i.value;else C.clearRect(i.x,i.y,i.width,i.height);else C.strokeRect(i.x,i.y,i.width,i.height);else C.fillRect(i.x,i.y,i.width,i.height);else I.pop(),u=I[I.length-1],C.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);else d=Math.cos(i.r),h=Math.sin(i.r),u=p(I[I.length-1],[[d,-h,0],[h,d,0],[0,0,1]]),I.push(u),C.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);else u=p(I[I.length-1],[[1,0,i.x],[0,1,i.y],[0,0,1]]),I.push(u),C.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);else u=p(I[I.length-1],[[i.x,0,0],[0,i.y,0],[0,0,1]]),I.push(u),C.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);else u=p(I[I.length-1],[[i.a,i.c,i.e],[i.b,i.d,i.f],[0,0,1]]),I.push(u),C.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);return this.applyStyles()},n.create=function(e,t,r,i){return arguments.length>2?new n(e,t,r,i):2===arguments.length?new n(e,t):new n},n.prototype.workerCommand=function(t){var n,r=t.data;if(s||(s=e("./Canvas")),a||(a=e("./Gradient")),"ready"===r.type)return this.ready();if("image"===r.type)return n=new f(r.value.id),void(f.cache[r.value.id]=n);if("image-source"===r.type)return void(f.cache.hasOwnProperty(r.value.id)&&(n=f.cache[r.value.id],n.src=r.value.src,n.once("load",function(){this.sendWorker("image-load",r.value)}.bind(this))));if("image-cache"===r.type)return void(f.cache.hasOwnProperty(r.value.id)&&f.cache[r.value.id].cache());if("image-dispose"===r.type)return void(f.cache.hasOwnProperty(r.value.id)&&f.cache[r.value.id].dispose());if("render"===r.type)return void(this.tree=r.value);if("renderer-resize"===r.type)return this.resize(r.value.width,r.value.height);if("canvas"===r.type)return s.cache.hasOwnProperty(r.value.id)||(s.cache[r.value.id]=new s(r.value.width,r.value.height,r.value.id)),n=s.cache[r.value.id],n.resize(r.value.width,r.value.height),s.cache[r.value.id].render(r.value.children);if("canvas-image"===r.type&&s.cache.hasOwnProperty(r.value.id))return void s.cache[r.value.id].toImage(r.value.imageID);if("canvas-cache"===r.type)return void(s.cache.hasOwnProperty(r.value.id)&&s.cache[r.value.id]&&s.cache[r.value.id].cache());if("canvas-dispose"===r.type&&s.cache.hasOwnProperty(r.value.id)&&s.cache[r.value.id])return s.cache[r.value.id].dispose();if("linear-gradient"===r.type)return void(a.cache[r.value.id]=l(r.value.x0,r.value.y0,r.value.x1,r.value.y1,r.value.children,r.value.id));if("radial-gradient"===r.type)return void(a.cache[r.value.id]=c(r.value.x0,r.value.y0,r.value.r0,r.value.x1,r.value.y1,r.value.r1,r.value.children,r.value.id));if("gradient-dispose"!==r.type){if("gradient-cache"!==r.type)return"style"===r.type?this.style(r.value):this.emit(r.type,r.value);if(a.cache.hasOwnProperty(r.value.id))return a.cachable.push(r.value.id)}else if(a.cache.hasOwnProperty(r.value.id))return a.cache[r.value.id].dispose()},n.prototype.resize=function(e,t){return o?this.sendBrowser("renderer-resize",{width:e,height:t}):(""+this.canvas.width!=""+e&&(this.canvas.width=e),void(""+this.canvas.height!=""+t&&(this.canvas.height=t)))},n.prototype.hookRender=function(){return this.isReady&&(this.worker?null!==this.tree&&(this.lastMouseEvent&&!this.ranMouseEvent&&this.mouseMove(this.lastMouseEvent),this.fireFrame(),this.render(this.tree),this.tree=null):(this.lastMouseEvent&&!this.ranMouseEvent&&this.mouseMove(this.lastMouseEvent),this.fireFrame())),requestAnimationFrame(this.hookRender.bind(this))},n.prototype.cleanUpCache=function(){return f.cleanUp(),s.cleanUp(),a.cleanUp()},n.prototype.sendWorker=function(e,t){return this.worker?this.worker.postMessage({type:e,value:t}):this.emit(e,t)},n.prototype.sendBrowser=function(e,t){return postMessage({type:e,value:t})},n.prototype.sendAll=function(e,t){return o?this.sendBrowser(e,t):this.sendWorker(e,t),this.emit(e,t)},n.prototype.hookMouseEvents=function(){return document.addEventListener("mousemove",this.mouseMove.bind(this)),this.canvas.addEventListener("mousedown",this.mouseDown.bind(this)),document.addEventListener("mouseup",this.mouseUp.bind(this))},n.prototype.mouseMove=function(e){var t,n=this.canvas.getBoundingClientRect(),r=[0,0];this.lastMouseEvent=e,this.ranMouseEvent=!0,r[0]=e.clientX-n.left,r[1]=e.clientY-n.top;for(var i=0;i<this.mouseRegions.length;i++)t=this.mouseRegions[i],v(r,t.points)&&(this.activeRegions.push(t.id),this.mouseRegions.splice(this.mouseRegions.indexOf(t),1),i-=1);return this.mouseData.x=r[0],this.mouseData.y=r[1],this.mouseData.state=this.mouseState,this.mouseData.activeRegions=this.activeRegions,this.sendWorker("mouse",this.mouseData),e.preventDefault(),!1},n.prototype.mouseDown=function(e){return this.mouseState="down",this.mouseMove(e)},n.prototype.mouseUp=function(e){return this.mouseState="up",this.mouseMove(e)},n.prototype.hookKeyboardEvents=function(){for(var e in d.code)d.code.hasOwnProperty(e)&&(this.keyData[e]="up");return this.canvas.addEventListener("keydown",this.keyDown.bind(this)),document.addEventListener("keyUp",this.keyUp.bind(this))},n.prototype.keyChange=function(e){return this.sendWorker("key",this.keyData),e.preventDefault(),!1},n.prototype.keyDown=function(e){return this.keyData[d.code[e.keyCode]]="down",this.keyChange(e)},n.prototype.keyUp=function(e){return this.keyData[d.code[e.keyCode]]="up",this.keyChange(e)},n.prototype.browserCommand=function(e){return"image-load"===e.data.type&&f.cache[e.data.value.id].emit("load"),this.emit(e.data.type,e.data.value)},n.prototype.fireFrame=function(){return this.mouseRegions.splice(0,this.mouseRegions.length),this.sendWorker("frame",{}),this.activeRegions.splice(0,this.activeRegions.length),this.ranMouseEvent=!1,setTimeout(this.cleanUpCache.bind(this),0)},n.prototype.style=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);if(e=r(e),o)this.sendBrowser("style",e);else for(t=0;t<e.length;t++)this.styleQueue.push(e[t])},n.prototype.applyStyles=function(){for(var e,t=0;t<this.styleQueue.length;t++){e=this.styleQueue[t];for(var n in e)e.hasOwnProperty(n)&&(this.canvas.style[n]=e[n])}this.styleQueue.splice(0,this.styleQueue.length)},n.prototype.ready=function(){return o?void this.sendBrowser("ready"):(this.isReady=!0,this.fireFrame(),requestAnimationFrame(this.hookRender.bind(this)))},Object.seal(n),Object.seal(n.prototype),t.exports=n},{"./Canvas":34,"./Gradient":35,"./Img":36,"./createLinearGradient":48,"./createRadialGradient":49,"./isWorker":66,"./transformPoints":83,events:1,keycode:8,"lodash/array/flatten":9,"lodash/lang/isElement":26,"point-in-polygon":32,"square-matrix-multiply":33,util:6}],39:[function(e,t){"use strict";function n(e,t){return new r("addColorStop",{offset:e,color:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],40:[function(e,t){"use strict";function n(e,t,n,i,s,a){return arguments.length>5?new r(a?"anticlockwise-arc":"arc",{x:e,y:t,r:n,startAngle:i,endAngle:s}):5===arguments.length?new r("arc",{x:e,y:t,r:n,startAngle:i,endAngle:s}):arguments.length<3?arguments.length<1?new r("quick-arc",{r:1}):new r("quick-arc",{r:e}):new r("full-arc",{x:e,y:t,r:n})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],41:[function(e,t){"use strict";function n(e,t,n,i,s){return new r("arcTo",{x1:e,y1:t,x2:n,y2:i,r:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],42:[function(e,t){"use strict";function n(){return new r("beginPath")}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],43:[function(e,t){"use strict";function n(e,t,n,i,s,a){return new r("bezierCurveTo",{cp1x:e,cp1y:t,cp2x:n,cp2y:i,x:s,y:a})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],44:[function(e,t){"use strict";function n(e,t,n,i){return arguments.length>2?new r("clearRect",{x:e,y:t,width:n,height:i}):new r("clearRect",{x:0,y:0,width:e,height:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],45:[function(e,t){"use strict";function n(){for(var e=[r()],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.push(i()),e}var r=e("./beginPath"),i=e("./clipPath");t.exports=n},{"./beginPath":42,"./clipPath":46}],46:[function(e,t){"use strict";function n(){return new r("clipPath")}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],47:[function(e,t){"use strict";function n(){return new r("closePath")}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],48:[function(e,t){"use strict";function n(e,t,n,a,o,l){if(l=l||s(),r)return postMessage({type:"linear-gradient",value:{id:l,x0:e,y0:t,x1:n,y1:a,children:o}}),new i(l,null);for(var c,u=document.createElement("canvas").getContext("2d"),h=u.createLinearGradient(e,t,n,a),f=new i(l,h),d=0;d<o.length;d++)c=o[d],h.addColorStop(c.props.offset,c.props.color);return f}var r=e("./isWorker"),i=(e("lodash/array/flatten"),e("./Gradient")),s=e("./id");t.exports=n},{"./Gradient":35,"./id":64,"./isWorker":66,"lodash/array/flatten":9}],49:[function(e,t){"use strict";function n(e,t,n,a,o,l,c,u){if(u=u||s(),r)return postMessage({type:"radial-gradient",value:{id:u,x0:e,r0:n,y0:t,x1:a,y1:o,r1:l,children:c}}),new i(u,null);for(var h,f=document.createElement("canvas").getContext("2d"),d=f.createRadialGradient(e,t,n,a,o,l),p=new i(u,d),g=0;g<c.length;g++)h=c[g],d.addColorStop(h.props.offset,h.props.color);return p}var r=e("./isWorker"),i=e("./Gradient"),s=e("./id");t.exports=n},{"./Gradient":35,"./id":64,"./isWorker":66}],50:[function(e,t){"use strict";function n(e,t,n,i,s,a,o,l,c){return 9===arguments.length?new r("drawCanvasSource",{img:e.id,sx:t,sy:n,sWidth:i,sHeight:s,dx:a,dy:o,dWidth:l,dHeight:c}):arguments.length<5?arguments.length<3?new r("drawCanvas",{img:e.id,dx:0,dy:0}):new r("drawCanvas",{img:e.id,dx:t,dy:n}):new r("drawCanvasSize",{img:e.id,dx:t,dy:n,dWidth:i,dHeight:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],51:[function(e,t){"use strict";function n(e,t,n,i,s,a,o,l,c){return 9===arguments.length?new r("drawImageSource",{img:e.id,sx:t,sy:n,sWidth:i,sHeight:s,dx:a,dy:o,dWidth:l,dHeight:c}):arguments.length<5?arguments.length<3?new r("drawImage",{img:e.id,dx:0,dy:0}):new r("drawImage",{img:e.id,dx:t,dy:n}):new r("drawImageSize",{img:e.id,dx:t,dy:n,dWidth:i,dHeight:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],52:[function(e,t){"use strict";function n(e,t,n,i,s,a,o,l){return arguments.length>7?new r(l?"anticlockwise-ellipse":"ellipse",{x:e,y:t,radiusX:n,radiusY:i,startAngle:a,endAngle:o}):7===arguments.length?new r("ellipse",{x:e,y:t,radiusX:n,radiusY:i,rotation:s,startAngle:a,endAngle:o}):arguments.length<5?4===arguments.length?new r("quick-ellipse",{x:e,y:t,radiusX:n,radiusY:i}):new r("quick-ellipse",{x:0,y:0,radiusX:e,radiusY:t}):new r("full-ellipse",{x:e,y:t,radiusX:n,radiusY:i,rotation:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],53:[function(e,t){"use strict";function n(){return new r("fill")}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],54:[function(e,t){"use strict";function n(e,t,n,s,a,o){return arguments.length>=6&&o?new r("fillArc-counterclockwise",{x:e,y:t,r:n,startAngle:s,endAngle:a}):arguments.length>3?new r("fillArc",{x:e,y:t,r:n,startAngle:s,endAngle:a}):arguments.length>1?new r("fillArc",{x:e,y:t,r:n,startAngle:0,endAngle:i}):new r("fillArc",{x:0,y:0,r:e,startAngle:0,endAngle:i})}var r=e("./Instruction"),i=2*Math.PI;t.exports=n},{"./Instruction":37}],55:[function(e,t){"use strict";function n(e,t,n,i,s,a,o,l,c){return 9===arguments.length?new r("fillCanvasSource",{img:e.id,sx:t,sy:n,sWidth:i,sHeight:s,dx:a,dy:o,dWidth:l,dHeight:c}):arguments.length<5?arguments.length<3?new r("fillCanvas",{img:e.id,dx:0,dy:0}):new r("fillCanvas",{img:e.id,dx:t,dy:n}):new r("fillCanvasSize",{img:e.id,dx:t,dy:n,dWidth:i,dHeight:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],56:[function(e,t){"use strict";function n(e,t,n,i,s,a,o,l,c){return 9===arguments.length?new r("fillImageSource",{img:e.id,sx:t,sy:n,sWidth:i,sHeight:s,dx:a,dy:o,dWidth:l,dHeight:c}):arguments.length<5?arguments.length<3?new r("fillImage",{img:e.id,dx:0,dy:0}):new r("fillImage",{img:e.id,dx:t,dy:n}):new r("fillImageSize",{img:e.id,dx:t,dy:n,dWidth:i,dHeight:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],57:[function(e,t){"use strict";
function n(e,t,n,i,s){return arguments.length<5?arguments.length<3?new r("fillImagePattern",{img:e.id,dx:0,dy:0,dWidth:0,dHeight:0}):new r("fillImagePattern",{img:e.id,dx:0,dy:0,dWidth:t,dHeight:n}):new r("fillImagePattern",{img:e.id,dx:t,dy:n,dWidth:i,dHeight:s})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],58:[function(e,t){"use strict";function n(e,t,n,i){return arguments.length<4?new r("fillRect",{x:0,y:0,width:e,height:t}):new r("fillRect",{x:e,y:t,width:n,height:i})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],59:[function(e,t){"use strict";function n(e){var t;e instanceof i&&(t=new r("fillGradient",{value:{id:e.id}})),t||(t=new r("fillStyle",{value:e}));for(var n=[t],s=1;s<arguments.length;s++)n.push(arguments[s]);return n.push(new r("endFillStyle")),n}var r=e("./Instruction"),i=e("./Gradient");t.exports=n},{"./Gradient":35,"./Instruction":37}],60:[function(e,t){"use strict";function n(e){for(var t=[new r("globalAlpha",{value:e})],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(new r("endGlobalAlpha")),t}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],61:[function(e,t){"use strict";function n(e){var t=[new r("globalCompositeOperation",{value:e})];if(0===arguments.length)return[];for(var n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(new r("endGlobalCompositeOperation")),t}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],62:[function(e,t){"use strict";function n(e,t,n,i,s){arguments.length>3||(i=t,s=n,t=0,n=0);var a=[[t,n],[t,n+s],[t+i,n+s],[t+i,n]];return r(e,a)}var r=(e("./Instruction"),e("./hitRegion"));t.exports=n},{"./Instruction":37,"./hitRegion":63}],63:[function(e,t){"use strict";function n(e,t){return new r("hitRegion",{id:e,points:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],64:[function(e,t){"use strict";function n(){return Date.now()+"-"+Math.random()}t.exports=n},{}],65:[function(e,t){function n(e){return!!e.match(n.regex)}n.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i,Object.seal(n),t.exports=n},{}],66:[function(e,t){"use strict";t.exports="undefined"==typeof document},{}],67:[function(e,t){"use strict";function n(e){e=e||{};var t={lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,lineDash:[],lineDashOffset:null};void 0!==e.lineWidth&&(t.lineWidth=e.lineWidth),void 0!==e.lineCap&&(t.lineCap=e.lineCap),void 0!==e.lineJoin&&(t.lineJoin=e.lineJoin),void 0!==e.miterLimit&&(t.miterLimit=e.miterLimit),void 0!==e.lineDash&&(t.lineDash=e.lineDash),void 0!==e.lineDashOffset&&(t.lineDashOffset=e.lineDashOffset);for(var n=[new r("lineStyle",t)],i=1;i<arguments.length;i++)n.push(arguments[i]);return n.push(new r("endLineStyle")),n}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],68:[function(e,t){"use strict";function n(e,t){return 0===arguments.length?new r("lineTo",{x:0,y:0}):new r("lineTo",{x:e,y:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],69:[function(e,t){"use strict";function n(e,t){return 0===arguments.length?new r("moveTo",{x:0,y:0}):new r("moveTo",{x:e,y:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],70:[function(e,t){"use strict";function n(){for(var e=[r()],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.push(i()),e}var r=e("./beginPath"),i=e("./closePath");t.exports=n},{"./beginPath":42,"./closePath":47}],71:[function(e,t){"use strict";function n(e,t,n,i){return new r("quadraticCurveTo",{cpx:e,cpy:t,x:n,y:i})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],72:[function(e,t){"use strict";function n(e,t,n,i){return arguments.length>2?new r("rect",{x:e,y:t,width:n,height:i}):new r("rect",{x:0,y:0,width:e,height:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],73:[function(e,t){"use strict";function n(e){e=+e;for(var t=[new r("rotate",{r:e})],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(new r("restore")),t}{var r=e("./Instruction");e("lodash/array/flatten")}t.exports=n},{"./Instruction":37,"lodash/array/flatten":9}],74:[function(e,t){"use strict";function n(e,t,n){var i=2;"number"!=typeof t&&(t=e,i=1),n=n||[];for(var s=[new r("scale",{x:e,y:t})];i<arguments.length;i++)s.push(arguments[i]);return s.push(new r("restore")),s}{var r=e("./Instruction");e("lodash/array/flatten")}t.exports=n},{"./Instruction":37,"lodash/array/flatten":9}],75:[function(e,t){"use strict";function n(e){e=e||{};var t={shadowBlur:null,shadowColor:null,shadowOffsetX:null,shadowOffsetY:null};void 0!==e.shadowBlur&&(t.shadowBlur=e.shadowBlur),void 0!==e.shadowColor&&(t.shadowColor=e.shadowColor),void 0!==e.shadowOffsetX&&(t.shadowOffsetX=e.shadowOffsetX),void 0!==e.direction&&(t.shadowOffsetY=e.shadowOffsetY);for(var n=[new r("shadowStyle",e)],i=1;i<arguments.length;i++)n.push(arguments[i]);return n.push(new r("endShadowStyle")),n}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],76:[function(e,t){"use strict";function n(){return new r("stroke")}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],77:[function(e,t){"use strict";function n(e,t,n,s,a,o){return arguments.length>=6&&o?new r("strokeArc-counterclockwise",{x:e,y:t,r:n,startAngle:s,endAngle:a}):arguments.length>3?new r("strokeArc",{x:e,y:t,r:n,startAngle:s,endAngle:a}):arguments.length>1?new r("strokeArc",{x:e,y:t,r:n,startAngle:0,endAngle:i}):new r("strokeArc",{x:0,y:0,r:e,startAngle:0,endAngle:i})}var r=e("./Instruction"),i=2*Math.PI;t.exports=n},{"./Instruction":37}],78:[function(e,t){"use strict";function n(e,t,n,i){return arguments.length>2?new r("strokeRect",{x:e,y:t,width:n,height:i}):new r("strokeRect",{x:0,y:0,width:e,height:t})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],79:[function(e,t){"use strict";function n(e){var t;e instanceof i&&(t=new r("strokeGradient",{value:{id:e.id}})),t||(t=new r("strokeStyle",{value:e}));for(var n=[t],s=1;s<arguments.length;s++)n.push(arguments[s]);return n.push(new r("endStrokeStyle")),n}var r=e("./Instruction"),i=e("./Gradient");t.exports=n},{"./Gradient":35,"./Instruction":37}],80:[function(e,t){"use strict";function n(e,t,n,i,s,a){return 6===arguments.length?new r("text",{x:t,y:n,fill:i,stroke:s,text:e,maxWidth:a}):5===arguments.length?new r("text",{x:t,y:n,fill:i,stroke:s,text:e,maxWidth:0}):4===arguments.length?new r("text",{x:t,y:n,fill:i,stroke:!1,text:e,maxWidth:0}):3===arguments.length?new r("text",{x:t,y:n,fill:!0,stroke:!1,text:e,maxWidth:0}):new r("text",{x:0,y:0,fill:!0,stroke:!1,text:e,maxWidth:0})}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],81:[function(e,t){"use strict";function n(e){e=e||{};var t={font:null,textAlign:null,textBaseline:null,direction:null};void 0!==e.font&&(t.font=e.font),void 0!==e.textAlign&&(t.textAlign=e.textAlign),void 0!==e.textBaseline&&(t.textBaseline=e.textBaseline),void 0!==e.direction&&(t.direction=e.direction);for(var n=[new r("textStyle",e)],i=1;i<arguments.length;i++)n.push(arguments[i]);return n.push(new r("endTextStyle")),n}var r=e("./Instruction");t.exports=n},{"./Instruction":37}],82:[function(e,t){"use strict";function n(e){var t,n,r,a,o,l,c,u,h=[[1,0,0],[0,1,0],[0,0,1]],f=e.length;for(n=0;f>n;n++)t=e[n],t.hasOwnProperty("transform")?h=i(h,[[t.transform.a,t.transform.c,t.transform.e],[t.transform.b,t.transform.d,t.transform.f],[0,0,1]]):(t.hasOwnProperty("translate")&&(o=t.translate.x,l=t.translate.y,h=i(h,[[1,0,o],[0,1,l],[0,0,1]])),t.hasOwnProperty("scale")&&(o=t.scale.x,l=t.scale.y,h=i(h,[[o,0,0],[0,l,0],[0,0,1]])),t.hasOwnProperty("rotate")&&(a=Math.sin(t.rotate),r=Math.cos(t.rotate),h=i(h,[[r,-a,0],[a,r,0],[0,0,1]])));for(c={a:h[0][0],b:h[1][0],c:h[0][1],d:h[1][1],e:h[0][2],f:h[1][2]},u=[new s("transform",c)],n=1;n<arguments.length;n++)u.push(arguments[n]);return u.push(new s("restore")),u}function r(e){for(var t=e[0],n=[new s("transform",{a:t.props.a,b:t.props.b,c:t.props.c,d:t.props.d,e:t.props.e,f:t.props.f})],r=1;r<arguments.length;r++)n.push(arguments[r]);return n.push(new s("restore")),n}var i=e("square-matrix-multiply"),s=e("./Instruction");n.copy=r,t.exports=n},{"./Instruction":37,"square-matrix-multiply":33}],83:[function(e,t){"use strict";function n(e,t){for(var n,r=[],i=e.length,s=0;i>s;s++)n=e[s],r.push([t[0][0]*n[0]+t[0][1]*n[1]+t[0][2],t[1][0]*n[0]+t[1][1]*n[1]+t[1][2]]);return r}t.exports=n},{}],84:[function(e,t){"use strict";function n(e,t){for(var n=[new r("translate",{x:e,y:t})],i=2;i<arguments.length;i++)n.push(arguments[i]);return n.push(new r("restore")),n}{var r=e("./Instruction");e("lodash/array/flatten")}t.exports=n},{"./Instruction":37,"lodash/array/flatten":9}]},{},[7]);