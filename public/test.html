<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <script>
    var img = new Image();
    
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    canvas.width = 500;
    canvas.height = 500;
    
    var x = 0, y = 0, width = 50, height = 50, sx = 200, sy = 200, swidth = 100, sheight = 50;
    img.src = 'blah.jpg';
    img.onload = function() {
      var pattern = ctx.createPattern(img, 'no-repeat');

      var onscreen = document.createElement('canvas');
      var screenctx = onscreen.getContext('2d');
      
      onscreen.width = 500;
      onscreen.height = 500;
      
      screenctx.drawImage(img, sx, sy, swidth, sheight, x, y, width, height);
      
      x += 50;
      
      screenctx.fillStyle = pattern;
      screenctx.save()
      screenctx.translate(x, y);
      screenctx.scale(width / swidth, height / sheight);
      screenctx.translate(-sx, -sy);
      screenctx.fillRect(sx, sy, swidth, sheight);
      screenctx.restore();
      //screenctx.fillRect(sx + x / scalex, sy + y / scaley, width / scalex, height / scaley);
      
      
      document.body.appendChild(onscreen);
    }
  </script>
</body>
</html>